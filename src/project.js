window.__require=function t(i,o,n){function e(c,h){if(!o[c]){if(!i[c]){var r=c.split("/");if(r=r[r.length-1],!i[r]){var a="function"==typeof __require&&__require;if(!h&&a)return a(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}}var l=o[c]={exports:{}};i[c][0].call(l.exports,function(t){return e(i[c][1][t]||t)},l,l.exports,t,i,o,n)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)e(n[c]);return e}({dragonAnimation:[function(t,i,o){"use strict";cc._RF.push(i,"321fefYAGNB/bYBWXqUpcPc","dragonAnimation"),cc.Class({extends:cc.Component,properties:{dragonAnimation:cc.Animation,counter:0},onLoad:function(){this.dragonAnimation=this.getComponent(cc.Animation)},start:function(){this.dragonAnimation.play("dragonAnimation")},update:function(t){this.moveDragon(t)},moveDragon:function(t){this.counter=this.counter+3,this.node.y=this.node.y+3,this.counter<400?this.node.scale=1-this.counter/800:this.node.y+=3}}),cc._RF.pop()},{}],gameManager:[function(t,i,o){"use strict";cc._RF.push(i,"bdb29rBwNJC/4MGTcNBfmHf","gameManager"),cc.Class({extends:cc.Component,properties:{redLight:cc.Node,yellowLight:cc.Node,greenLight:cc.Node,countdownLabel:cc.Label,wolf:cc.Node,dragon:cc.Node,_diffVector:cc.v2,distance:0,wolfDie:cc.Node},onLoad:function(){this.timer=0,this.timeLabel=0,this.colorIndex=0,this.blinkCount=0,this.blinkTimer=0,this.countdown=3,this.updateLights()},update:function(t){this.distance=this.takeDistance(this.wolf.position,this.dragon.position),2===this.colorIndex?this.countdown>0&&(this.timer+=t,this.timer>=1&&(this.timer=0,this.countdown--,this.updateCountdownLabel(),cc.log(this.countdown),0===this.countdown&&(this.timeLabel+=t,this.countdownLabel.string="Go Go Go!",this.timeLabel>1&&(this.countdownLabel.enabled=!1),this.wolf.getComponent("wolfAnimation")&&(this.wolf.getComponent("wolfAnimation").enabled=!0),this.dragon.getComponent("dragonAnimation")&&(this.dragon.getComponent("dragonAnimation").enabled=!0)))):(this.timer+=t,this.timer>=3&&(this.timer=0,this.colorIndex=(this.colorIndex+1)%3,this.updateLights()),2!==this.colorIndex&&this.blinkCount<6&&(this.blinkTimer+=t,this.blinkLight(0===this.colorIndex?this.redLight:this.yellowLight,t))),this.distance<80&&(this.wolf.active=!1,cc.log(this.wolfDie),this.wolfDie.active=!0),0===this.countdown&&(this.timeLabel+=t,this.timeLabel>.5&&(this.countdownLabel.enabled=!1))},updateLights:function(){switch(this.redLight.color=cc.Color.BLACK,this.yellowLight.color=cc.Color.BLACK,this.greenLight.color=cc.Color.BLACK,this.colorIndex){case 0:this.blinkCount=0,this.blinkTimer=0,this.blinkLight(this.redLight);break;case 1:this.blinkCount=0,this.blinkTimer=0,this.blinkLight(this.yellowLight);break;case 2:this.greenLight.color=cc.Color.GREEN,this.startCountdown()}},takeDistance:function(t,i){return this._diffVector=t.sub(i),this._diffVector.mag()},blinkLight:function(t){this.blinkTimer>=.5&&(this.blinkTimer=0,this.blinkCount%2==0?t.color=0===this.colorIndex?cc.Color.RED:cc.Color.YELLOW:t.color=cc.Color.BLACK,this.blinkCount++,this.blinkCount>=6&&(this.blinkCount=0))},startCountdown:function(){this.countdownLabel.node.active=!0,this.updateCountdownLabel()},updateCountdownLabel:function(){this.countdownLabel.string=this.countdown.toString()}}),cc._RF.pop()},{}],wolfAnimation:[function(t,i,o){"use strict";cc._RF.push(i,"1d3ddYesBdAbJAta+IxEFsA","wolfAnimation"),cc.Class({extends:cc.Component,properties:{wolfAnimation:cc.Animation,flag:!1},onLoad:function(){this.wolfAnimation=this.getComponent(cc.Animation)},start:function(){this.wolfAnimation.play("wolfStand")},update:function(t){this.moveWolf(t)},moveWolf:function(t){this.node.x+=170*t,!1===this.flag&&(this.wolfAnimation.play("wolfAnimation"),this.flag=!0)}}),cc._RF.pop()},{}]},{},["dragonAnimation","gameManager","wolfAnimation"]);