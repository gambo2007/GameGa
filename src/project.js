window.__require=function t(o,i,n){function e(s,r){if(!i[s]){if(!o[s]){var l=s.split("/");if(l=l[l.length-1],!o[l]){var u="function"==typeof __require&&__require;if(!r&&u)return u(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+s+"'")}}var h=i[s]={exports:{}};o[s][0].call(h.exports,function(t){return e(o[s][1][t]||t)},h,h.exports,t,o,i,n)}return i[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)e(n[s]);return e}({dragonAnimation:[function(t,o,i){"use strict";cc._RF.push(o,"321fefYAGNB/bYBWXqUpcPc","dragonAnimation"),cc.Class({extends:cc.Component,properties:{dragonAnimation:cc.Animation,counter:0},onLoad:function(){this.dragonAnimation=this.getComponent(cc.Animation)},start:function(){this.dragonAnimation.play("dragonAnimation")},update:function(t){this.moveDragon(t)},moveDragon:function(t){this.counter=this.counter+4,this.node.y=this.node.y+3,this.counter<700?this.node.scale=1-this.counter/800:this.node.y+=4}}),cc._RF.pop()},{}],gameManager:[function(t,o,i){"use strict";cc._RF.push(o,"bdb29rBwNJC/4MGTcNBfmHf","gameManager");var n=t("lightController");cc.Class({extends:cc.Component,properties:{redLight:cc.Node,yellowLight:cc.Node,greenLight:cc.Node,countdownLabel:cc.Label,wolf:cc.Node,dragon:cc.Node,_diffVector:cc.v2,distance:0,wolfDie:cc.Node,fire:cc.Node,fireUfo:cc.Node,soundDragon:cc.Node,soundNupa:cc.Node,ufo:cc.Node,soundBackground:cc.Node},onLoad:function(){this.timer=0,this.timeLabel=0,this.countdown=4,this.lightController=new n,this.lightController.redLight=this.redLight,this.lightController.yellowLight=this.yellowLight,this.lightController.greenLight=this.greenLight,this.lightController.ufo=this.ufo,this.lightController.fireUfo=this.fireUfo,this.soundBackground.active=!0},update:function(t){this.distance=this.takeDistance(this.wolf.position,this.dragon.position),2===this.lightController.colorIndex?this.countdown>0&&(this.timer+=t,this.timer>=1&&(this.timer=0,this.countdown--,this.updateCountdownLabel(),cc.log(this.countdown),0===this.countdown&&(this.timeLabel+=t,this.countdownLabel.string="Go Go Go!",this.timeLabel>1&&(this.countdownLabel.enabled=!1),this.wolf.getComponent("wolfAnimation")&&(this.wolf.getComponent("wolfAnimation").enabled=!0),this.dragon.getComponent("dragonAnimation")&&(this.dragon.getComponent("dragonAnimation").enabled=!0,this.soundDragon.active=!0)))):(this.timer+=t,this.timer>=3&&(this.timer=0,this.lightController.colorIndex=(this.lightController.colorIndex+1)%3,this.lightController.updateLights()),2!==this.lightController.colorIndex&&this.lightController.blinkCount<6&&(this.lightController.blinkTimer+=t,this.lightController.blinkLight(0===this.lightController.colorIndex?this.redLight:this.yellowLight,t))),this.distance<50&&(this.fire.active=!0,this.wolf.active=!1,this.wolfDie.active=!0,this.soundNupa.active=!0),0===this.countdown&&(this.timeLabel+=t,this.timeLabel>.5&&(this.countdownLabel.enabled=!1))},takeDistance:function(t,o){return this._diffVector=t.sub(o),this._diffVector.mag()},updateCountdownLabel:function(){this.countdownLabel.string=this.countdown.toString()}}),cc._RF.pop()},{lightController:"lightController"}],lightController:[function(t,o,i){"use strict";cc._RF.push(o,"2388byHfCRLsKCwSi91E/Jr","lightController"),cc.Class({properties:{redLight:cc.Node,yellowLight:cc.Node,greenLight:cc.Node,ufo:cc.Node,fireUfo:cc.Node,blinkCount:0,blinkTimer:0,colorIndex:0},updateLights:function(){switch(this.redLight.color=cc.Color.WHITE,this.yellowLight.color=cc.Color.WHITE,this.greenLight.color=cc.Color.WHITE,this.colorIndex){case 0:this.blinkCount=0,this.blinkTimer=0,this.blinkLight(this.redLight);break;case 1:this.blinkCount=0,this.blinkTimer=0,this.blinkLight(this.yellowLight);break;case 2:this.greenLight.color=cc.Color.GREEN,this.fireUfo.active=!0,this.ufo.getComponent("ufoAnimation").move()}},blinkLight:function(t){this.blinkTimer>=.5&&(this.blinkTimer=0,this.blinkCount%2==0?t.color=0===this.colorIndex?cc.Color.RED:cc.Color.YELLOW:t.color=cc.Color.WHITE,this.blinkCount++,this.blinkCount>=6&&(this.blinkCount=0))}}),cc._RF.pop()},{}],soundBackground:[function(t,o,i){"use strict";cc._RF.push(o,"ce05aEIyeFAFIZ5xzAR2jig","soundBackground"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()}}),cc._RF.pop()},{}],soundNupa:[function(t,o,i){"use strict";cc._RF.push(o,"4db83N1G9ZB8YjIQrwu1vcz","soundNupa"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()}}),cc._RF.pop()},{}],sound:[function(t,o,i){"use strict";cc._RF.push(o,"6839dfDpHlHyr8TZxfOUfcv","sound"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()}}),cc._RF.pop()},{}],ufoAnimation:[function(t,o,i){"use strict";cc._RF.push(o,"14476NGUsFAzajYG77rPEqu","ufoAnimation"),cc.Class({extends:cc.Component,properties:{ufo:cc.Node,isFly:!1},onLoad:function(){},start:function(){},update:function(t){!0===this.isFly&&(this.node.y+=100*t)},move:function(t){this.isFly=!0}}),cc._RF.pop()},{}],wolfAnimation:[function(t,o,i){"use strict";cc._RF.push(o,"1d3ddYesBdAbJAta+IxEFsA","wolfAnimation"),cc.Class({extends:cc.Component,properties:{wolfAnimation:cc.Animation,flag:!1},onLoad:function(){this.wolfAnimation=this.getComponent(cc.Animation)},start:function(){this.wolfAnimation.play("wolfStand")},update:function(t){this.moveWolf(t)},moveWolf:function(t){this.node.x+=170*t,!1===this.flag&&(this.wolfAnimation.play("wolfAnimation"),this.flag=!0)}}),cc._RF.pop()},{}]},{},["dragonAnimation","gameManager","lightController","sound","soundBackground","soundNupa","ufoAnimation","wolfAnimation"]);